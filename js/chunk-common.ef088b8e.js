(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"07de":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"my-card",staticStyle:{position:"relative"}},[a("q-card-section",{staticClass:"bg-secondary text-white text-center"},[a("div",{staticClass:"text-h6"},[e._v(e._s(e.translate("PROJECT.NAME")))]),a("q-tabs",{staticClass:"text-white",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"login",icon:"login",label:"Login"}}),a("q-tab",{attrs:{name:"register",icon:"person_add",label:"Register"}})],1)],1),a("q-card-section",{staticClass:"bg-secondary text-white q-pa-none"},[a("q-tab-panels",{staticClass:"bg-secondary q-ma-none full-width q-pa-none",attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"login"}},[a("loginForm")],1),a("q-tab-panel",{attrs:{name:"register"}},[a("registrationForm")],1)],1)],1)],1)},n=[],i=a("310f"),o=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("q-form",{ref:"userRegistrationForm",staticClass:"q-gutter-md text-white",on:{submit:t.createUser,reset:t.onReset}},[s("q-input",{attrs:{filled:"",type:"text",label:"first name","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter your name"}]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),s("q-input",{attrs:{filled:"",type:"text",label:"last name","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter your name"}]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),s("q-select",{attrs:{"use-input":"",filled:"",options:t.genders,label:"Gender","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please select your gender"}]},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}}),s("q-input",{attrs:{filled:"",mask:"date",label:"Date of Birth(YYYY/MM/DD)",rules:["date",function(e){return e&&e.length>0||"Please enter your dob"}]},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}},[s("div",{staticClass:"row items-center justify-end"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.dob,callback:function(e){t.dob=e},expression:"dob"}}),s("q-input",{attrs:{filled:"",type:"email",label:"email","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter your email address"},function(t){return e.isValidEmail()||"Invalid email address"}]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.showAccept?s("terms",{attrs:{accept:t.accept,main:t.mainLocal}}):t._e(),t.showActivation?s("div",{staticClass:"col"},[s("q-checkbox",{staticClass:"col",attrs:{label:"Send Activation Email"},model:{value:t.activationEmail,callback:function(e){t.activationEmail=e},expression:"activationEmail"}}),s("q-checkbox",{staticClass:"col",attrs:{label:"Show Activation link"},model:{value:t.showActivationLink,callback:function(e){t.showActivationLink=e},expression:"showActivationLink"}})],1):t._e(),s("div",[s("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),s("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"white",flat:""}})],1),s("activationLink",{attrs:{alert:t.alert,alertUserId:t.alertUserId,main:t.main}})],1)},r=[],l=(a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-toggle",{attrs:{color:"secondary"},on:{input:e.toggled},model:{value:e.localAccept,callback:function(t){e.localAccept=t},expression:"localAccept"}}),e._v("I\n  accept the\n  "),a("a",{staticClass:"text-underline text-italic",staticStyle:{"text-decoration":"underline",cursor:"pointer"},attrs:{clickable:""},on:{click:e.showTerms}},[e._v("terms and conditions")]),a("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate"},model:{value:e.termsDialog,callback:function(t){e.termsDialog=t},expression:"termsDialog"}},[a("q-card",[a("q-card-section",{staticClass:"q-pt-none"},[""!==e.termsText?a("q-markdown",[e._v("\n          "+e._s(e.termsText)+"\n        ")]):e._e()],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok",color:"primary"}})],1)],1)],1)],1)}),c=[],d=a("cf57");a("bc3a"),a("1712").to;const u=a("9fea")();var m={name:"terms",props:{accept:Boolean,main:Function},created(){this.myParent=this.main(),this.localAccept=this.accept},data(){return{localAccept:!1,myParent:null,termsText:"",termsDialog:!1}},methods:{async showTerms(){this.termsDialog=!0,this.termsText=u},toggled(e){this.$nextTick((function(){this.myParent.changeAccept(e)}))},showCustom(e=""){const t=this.$q.dialog({title:e,message:"",progress:{spinner:d["a"],color:"primary"},persistent:!0,ok:!1}),a=setInterval((()=>{!1===this.working&&(clearInterval(a),t.hide())}),500)}}},p=m,h=a("2877"),g=a("9564"),f=a("24e8"),b=a("f09f"),y=a("a370"),v=a("4b7e"),w=a("9c40"),T=a("7f67"),k=a("eebe"),C=a.n(k),S=Object(h["a"])(p,l,c,!1,null,null,null),q=S.exports;C()(S,"components",{QToggle:g["a"],QDialog:f["a"],QCard:b["a"],QCardSection:y["a"],QCardActions:v["a"],QBtn:w["a"]}),C()(S,"directives",{ClosePopup:T["a"]});var R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{"full-width":""},model:{value:e.innerAlert,callback:function(t){e.innerAlert=t},expression:"innerAlert"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[e._v("User activation link")])]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",[e._v("\n      In order to activate user use the following\n      "),a("a",{attrs:{href:e.activationPage}},[e._v("activation link")]),e._v(" :\n    ")]),a("q-card-section",{staticClass:"text-center row flex flex-center"},[a("div",{staticClass:"col text-no-wrap flex flex-center"},[a("code",{staticClass:"bg-grey-4 text-h6 text-bold q-pa-md row text-no-wrap",staticStyle:{"overflow-x":"scroll","overflow-y":"none"}},[e._v(e._s(e.activationPage))]),a("q-btn",{staticClass:"text-primary",attrs:{icon:"content_copy",flat:""},on:{click:e.copyActivationLinkToClipBoard}},[a("q-tooltip",[e._v(" Copy activation link ")])],1)],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1)},x=[];const D=a("1712").to,F=a("20e6"),L=a("c2a1").default;var M={name:"activationLink",components:{},props:["inside","alert","alertUserId","main"],async created(){L.setSettings({TBURL:F["TB_URL"]}),L.setSettings(F),this.showAccept=!1,this.accept=!0},data(){return{activationPage:"",accept:!1,showAccept:!0,innerAlert:!1}},watch:{async alert(e,t){this.main.loadingSomethingBigger=!0;let[a,s]=await D(L.getActivationCode(this.alertUserId));if(this.main.loadingSomethingBigger=!1,a)return void this.$q.notify({type:"negative",message:a||a.response||"Couldn't fetch activation link"});this.innerAlert=!0;let{activationCode:n}=s,i=window.location.protocol+"//"+window.location.host+`/#/activate?activateToken=${n}`;this.activationPage=i}},methods:{copyActivationLinkToClipBoard(){navigator.clipboard.writeText(this.activationPage).then((()=>{this.$q.notify({type:"positive",message:"Activation link copied!"})}),(()=>{}))}}},Q=M,A=a("65c6"),E=a("6ac5"),P=a("05c0"),O=Object(h["a"])(Q,R,x,!1,null,null,null),U=O.exports;C()(O,"components",{QDialog:f["a"],QCard:b["a"],QCardSection:y["a"],QToolbar:A["a"],QToolbarTitle:E["a"],QBtn:w["a"],QTooltip:P["a"],QCardActions:v["a"]}),C()(O,"directives",{ClosePopup:T["a"]});a("bc3a");const I=a("1712").to,N=a("20e6"),Y=a("c2a1").default;var B={name:"registrationForm",components:{terms:q,activationLink:U},props:["inside","main"],async created(){Y.setSettings({TBURL:N["TB_URL"]}),Y.setSettings(N),this.inside&&(this.showAccept=!1,this.accept=!0,this.showActivation=!0,this.activationEmail=!1,this.showActivationLink=!0)},data(){return{activationPage:"",accept:!1,showAccept:!0,showActivation:!1,showActivationLink:!1,activationEmail:!0,email:"",firstName:"",lastName:"",gender:"Male",genders:["Male","Female"],dob:"",password:"",cpassword:"",passwordErrorMessage:"",users:[],alert:!1,alertUserId:null}},methods:{changeAccept(e){this.accept=e},submit(){this.$refs.userRegistrationForm.submit()},mainLocal(){return this},isValidEmail(){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return e.test(this.email)||"Invalid email"},showCustom(e=""){const t=this.$q.dialog({title:e,message:"",progress:{spinner:d["a"],color:"primary"},persistent:!0,ok:!1}),a=setInterval((()=>{!1===this.working&&(clearInterval(a),t.hide())}),500)},async createUser(){return Y.setSettings({TBURL:N["TB_URL"]}),new Promise((async(e,t)=>{if(!0!==this.accept)return this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"You need to read and accept the terms and conditions"}),e(!1);this.working=!0,this.showCustom();let[a,s]=await I(Y.createUser({email:this.email,firstName:this.firstName,lastName:this.lastName,gender:this.gender,dateOfBirth:this.dob,authority:"CUSTOMER_USER"},{activationEmail:this.activationEmail,showActivationLink:this.showActivationLink},!0));if(this.working=!1,a){a=a.msg||a.message||a.error||a;try{a=JSON.parse(a)}catch(n){}if("object"===typeof a){let e=Object.keys(a);a=a[e[0]]}this.$q.notify({type:"negative",message:a}),e(!1)}else this.showActivationLink?(this.alertUserId=s,this.alert=!1,this.$nextTick((()=>this.alert=!0))):this.$q.notify({type:"positive",message:"Registration successful. Check your email to activate you account."}),this.main.listUsers()}))},onReset(){this.email=null,this.firstName=null,this.lastName=null,this.password=null,this.cpassword=null,this.accept=!1}}},$=B,H=a("0378"),j=a("27f9"),J=a("ddd8"),_=a("0016"),V=a("7cbe"),z=a("52ee"),W=a("8f8e"),Z=Object(h["a"])($,o,r,!1,null,null,null),G=Z.exports;C()(Z,"components",{QForm:H["a"],QInput:j["a"],QSelect:J["a"],QIcon:_["a"],QPopupProxy:V["a"],QDate:z["a"],QBtn:w["a"],QToggle:g["a"],QCheckbox:W["a"],QDialog:f["a"],QCard:b["a"],QCardSection:y["a"]}),C()(Z,"directives",{ClosePopup:T["a"]});const K=a("20e6"),X=a("ea76").default;var ee={name:"authForms",components:{loginForm:i["a"],registrationForm:G},props:{},async created(){this.extendedProjectName=K["PROJECTEXTENDED"]},data(){return{translate:X.translate,extendedProjectName:"",tab:"login",loggedin:!1,working:!1}},methods:{}},te=ee,ae=(a("3344"),a("429bb")),se=a("7460"),ne=a("adad"),ie=a("823b"),oe=Object(h["a"])(te,s,n,!1,null,"ac435e80",null);t["a"]=oe.exports;C()(oe,"components",{QCard:b["a"],QCardSection:y["a"],QSelect:J["a"],QTabs:ae["a"],QTab:se["a"],QTabPanels:ne["a"],QTabPanel:ie["a"]})},"0924":function(e,t,a){"use strict";a.r(t);const s=a("5ef6");t["default"]={home:s}},1326:function(e){e.exports=JSON.parse('{"English":"EN","Kiswalihi":"SWA"}')},"2cbd":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{icon:"home",to:"/home"}}),e._l(e.links,(function(e){return a("q-breadcrumbs-el",{key:e.link,attrs:{label:e.label,icon:e.icon,to:e.to}})}))],2)],1)},n=[],i={name:"breadcrumbs",props:{links:{type:Array}},data(){return{}},methods:{}},o=i,r=a("2877"),l=a("ead5"),c=a("079e"),d=a("eebe"),u=a.n(d),m=Object(r["a"])(o,s,n,!1,null,null,null);t["a"]=m.exports;u()(m,"components",{QBreadcrumbs:l["a"],QBreadcrumbsEl:c["a"]})},"310f":function(e,t,a){"use strict";var s=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("q-form",{staticClass:"text-white bg-secondary",on:{submit:t.onSubmit,reset:t.onReset}},[s("q-input",{attrs:{filled:"",type:"email",label:t.translate("FIELDS.EMAIL"),hint:t.translate("FIELDS.EMAIL"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter your email address"},function(t){return e.isValidEmail()||"Invalid email address"}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{attrs:{filled:"",type:"password",label:"Password","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Please enter your password"}],"error-message":t.passwordErrorMessage},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticClass:"q-pa-md"},[s("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),s("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"white",flat:""}})],1)],1)},n=[],i=(a("ddb0"),a("cf57"));const o=a("1712").to,r=a("20e6"),l=a("c2a1").default,c=a("ea76").default;var d={name:"loginForm",data(){return{translate:c.translate,email:"",password:"",passwordErrorMessage:""}},methods:{isValidEmail(){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return e.test(this.email)||"Invalid email"},showCustom(e=""){const t=this.$q.dialog({title:e,message:"",progress:{spinner:i["a"],color:"primary"},persistent:!0,ok:!1}),a=setInterval((()=>{!1===this.working&&(clearInterval(a),t.hide())}),500)},async onSubmit(){l.setSettings({TBURL:r["TB_URL"]});r["TB_URL"];let e={email:this.email,password:this.password};this.working=!0,this.showCustom();let[t,a]=await o(l.login(e));if(this.working=!1,t)return this.loggedin=!1,this.$q.notify({type:"negative",message:t.error||t.message||"failed to log in"}),this.password="",void(this.passwordErrorMessage=t.error||t.message||"wrong email/password");this.$q.notify({type:"positive",message:"log in successful"});l.getDefaultPageAfterLogin();window.location.assign(l.getDefaultPageAfterLogin())},onReset(){this.email=null,this.password=null}}},u=d,m=a("2877"),p=a("0378"),h=a("27f9"),g=a("9c40"),f=a("eebe"),b=a.n(f),y=Object(m["a"])(u,s,n,!1,null,null,null);t["a"]=y.exports;b()(y,"components",{QForm:p["a"],QInput:h["a"],QBtn:g["a"]})},3344:function(e,t,a){"use strict";a("853b")},"3ca2":function(e){e.exports=JSON.parse('{"tmp":{"EN":" ","SWA":" "}}')},"5bfc":function(e,t,a){var s={"./inspirafarms/translations.json":"b58d"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="5bfc"},"5c62":function(e,t,a){var s={"./inspirafarms/home.json":"86d9"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="5c62"},"5ef6":function(e,t,a){let s=[],n=a("20e6").PROJECT.toLowerCase(),i=a("5c62")(`./${n}/home.json`);s=s.concat(i).concat([{name:"Profile Management",icon:"person",link:"/#/profile",description:"Profile"}]),e.exports=s},6558:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-btn",{staticClass:"bg-primary text-white",attrs:{"no-caps":"",icon:"schedule",label:e.dateRangeSelectLabel}},[a("q-menu",{ref:"menu0",staticClass:"q-ma-md q-pa-md"},[a("q-card",{staticClass:"q-pa-none q-ma-none",staticStyle:{width:"300px"}},[a("q-card-section",{staticClass:"q-pa-none q-ma-none"},[a("div",[a("q-radio",{attrs:{val:"last",label:"Last"},on:{input:e.dateRangeSelectTypeChanged},model:{value:e.dateRangeSelectType,callback:function(t){e.dateRangeSelectType=t},expression:"dateRangeSelectType"}}),"last"===e.dateRangeSelectType?a("div",{staticClass:"row q-pa-md"},[e.advancedForLastFilter?e._e():a("q-select",{staticClass:"col-8",attrs:{options:e.dateRangeSelectTypeLasts,label:"Last","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please provide an input"}]},model:{value:e.dateRangeSelectTypeLast,callback:function(t){e.dateRangeSelectTypeLast=t},expression:"dateRangeSelectTypeLast"}}),e.advancedForLastFilter?a("div",{staticClass:"col-8"},[a("q-input",{attrs:{label:"Days",type:"number"},model:{value:e.days,callback:function(t){e.days=t},expression:"days"}}),a("q-input",{attrs:{label:"hours",type:"number"},model:{value:e.hours,callback:function(t){e.hours=t},expression:"hours"}}),a("q-input",{attrs:{label:"Minutes",type:"number"},model:{value:e.minutes,callback:function(t){e.minutes=t},expression:"minutes"}}),a("q-input",{attrs:{label:"Seconds",type:"number"},model:{value:e.seconds,callback:function(t){e.seconds=t},expression:"seconds"}})],1):e._e(),a("span",{staticClass:"float-right"},[a("q-list",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v("Advanced")]),a("q-item-label",[a("q-toggle",{staticClass:"float-right",attrs:{color:"secondary"},model:{value:e.advancedForLastFilter,callback:function(t){e.advancedForLastFilter=t},expression:"advancedForLastFilter"}})],1)],1)],1)],1)],1):e._e()],1),a("div",{staticClass:"q-ma-none q-pa-none"},[a("q-radio",{attrs:{val:"timePeriod",label:"Time Period"},on:{input:e.dateRangeSelectTypeChanged},model:{value:e.dateRangeSelectType,callback:function(t){e.dateRangeSelectType=t},expression:"dateRangeSelectType"}}),"timePeriod"===e.dateRangeSelectType?a("div",{staticClass:"row q-pa-md"},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"col-6",attrs:{mask:"date",label:"Date to",rules:["date",function(e){return e&&e.length>0||"Please enter a date"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,2882366464),model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}}),a("q-input",{staticClass:"col-6",attrs:{mask:"time",label:"Time to",rules:["time",function(e){return e&&e.length>0||"Please enter a time"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"schedule"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{"now-btn":""},model:{value:e.timeTo,callback:function(t){e.timeTo=t},expression:"timeTo"}})],1)],1)]},proxy:!0}],null,!1,789531335),model:{value:e.timeTo,callback:function(t){e.timeTo=t},expression:"timeTo"}})],1),a("div",{staticClass:"row"},[a("q-input",{staticClass:"col-6",attrs:{mask:"date",label:"Date from",rules:["date",function(e){return e&&e.length>0||"Please enter a date"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,1103465677),model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}}),a("q-input",{staticClass:"col-6",attrs:{mask:"time",label:"Time from",rules:["time",function(e){return e&&e.length>0||"Please enter a time"}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"schedule"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-time",{attrs:{"now-btn":""},model:{value:e.timeFrom,callback:function(t){e.timeFrom=t},expression:"timeFrom"}})],1)],1)]},proxy:!0}],null,!1,94629418),model:{value:e.timeFrom,callback:function(t){e.timeFrom=t},expression:"timeFrom"}})],1)]):e._e()],1),a("div",[a("q-radio",{attrs:{val:"interval",label:"Interval"},on:{input:e.dateRangeSelectTypeChanged},model:{value:e.dateRangeSelectType,callback:function(t){e.dateRangeSelectType=t},expression:"dateRangeSelectType"}}),"interval"===e.dateRangeSelectType?a("div",{staticClass:"row q-pa-md"},[a("q-select",{staticClass:"col-12",attrs:{options:e.intervalTypes,label:"Last","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please provide an input"}]},model:{value:e.intervalType,callback:function(t){e.intervalType=t},expression:"intervalType"}})],1):e._e()],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:""},on:{click:e.cancel}},[e._v("Cancel")]),a("q-btn",{attrs:{color:"primary"},on:{click:e.update}},[e._v("Update")])],1)],1)],1)],1)},n=[],i=(a("5319"),a("26e9"),{name:"dateTimeRange",props:["main","immediateMain","id"],components:{},async created(){this.immediateMain.dateTimeRanges||(this.immediateMain.dateTimeRanges={});let e=this.immediateMain.dateTimeRanges[this.id];e||(this.dateRangeSelectType="last",this.dateRangeSelectTypeLast="1 day"),this.oldDateRangeSelectType=this.dateRangeSelectType,this.convertToOtherTypes()},data(){return{dateFrom:"2021/01/04",timeFrom:"",dateTo:"",timeTo:"",days:1,hours:0,minutes:0,seconds:0,advancedForLastFilter:!1,dateRangeSelectType:"last",dateRangeSelectLabel:"...",intervalType:"Yesterday",intervalTypes:["Yesterday","Day before yesterday","This day last week","Previous week (Sun - Sat)","Previous week (Mon - Sun)","Previous month","Previous year","Current hour","Current day","Current day so far","Current week (Sun - Sat)","Current week (Mon - Sun)","Current week so far (Sun - Sat)","Current week so far (Mon - Sun)","Current month","Current month so far","Current year","Current year so far"],dateRangeSelectTypeLast:"1 day",dateRangeSelectTypeLasts:["1 second","5 seconds","10 seconds","15 seconds","30 seconds","1 minute","2 minutes","5 minutes","10 minutes","15 minutes","30 minutes","1 hour","2 hours","5 hours","10 hours","12 hours","1 day"]}},methods:{convertToOtherTypes(e){let t,a,s=e||this.dateRangeSelectType;switch(e||"last"===s&&this.advancedForLastFilter&&(s="lastAdvanced"),s){case"last":let e=parseInt(this.dateRangeSelectTypeLast),s=this.dateRangeSelectTypeLast.split(" ").slice(-1)[0].replace(/s$/,"");switch(a=e,s){case"second":break;case"minute":a*=60;break;case"hour":a*=3600;break;case"day":a*=86400;break}this.dateRangeSelectLabel=`Last ${this.dateRangeSelectTypeLast}`,this.interval={to:"now",from:-a};let n=0,i=parseInt(a/86400);n=i>0?a%(86400*i):a;let o=parseInt(n/3600);n=o>0?n%(3600*o):n;let r=parseInt(n/60);n=r>0?n%(60*r):n;let l=n;this.dateRangeSelectTypeLastAdvanced={day:i,hour:o,min:r,sec:l},console.log(i,o,r,l),this.days=i,this.hours=o,this.minutes=r,this.seconds=l,t=new Date,this.dateTo=`${t.getFullYear()}/${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}/${t.getDate()<10?"0"+t.getDate():t.getDate()}`,this.timeTo=`${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}`,t=new Date(t.getTime()-1e3*a),this.dateFrom=`${t.getFullYear()}/${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}/${t.getDate()<10?"0"+t.getDate():t.getDate()}`,this.timeFrom=`${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}`;break;case"lastAdvanced":a=24*parseInt(this.days)*60*60+60*parseInt(this.hours)*60+60*parseInt(this.minutes)+parseInt(this.seconds),t=new Date,this.dateTo=`${t.getFullYear()}/${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}/${t.getDate()<10?"0"+t.getDate():t.getDate()}`,this.timeTo=`${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}`,t=new Date(t.getTime()-1e3*a),this.dateFrom=`${t.getFullYear()}/${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}/${t.getDate()<10?"0"+t.getDate():t.getDate()}`,this.timeFrom=`${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}`;let c=[1,5,10,15,30,1,2,5,10,15,30,1,2,5,10,12,1],d=[1,60,3600,86400],u=-1;c=c.map((e=>(1===e&&u++,e*d[u])));let m=c[0],p=c[c.length-1];c.map((e=>{e<=a&&(m=e)})),c=c.reverse(),c.map((e=>{e>=a&&(p=e)})),c=c.reverse(),this.interval={to:"now",from:-a},a=a-m<p-a?m:p;let h=c.indexOf(a);this.dateRangeSelectTypeLast=this.dateRangeSelectTypeLasts[h];let g="";this.days>0&&(""===g&&(g="Last "),g+=`${this.days} day${this.days>1?"s":""} `),this.hours>0&&(""===g&&(g="Last "),g+=`${this.hours} hour${this.hours>1?"s":""} `),this.minutes>0&&(""===g&&(g="Last "),g+=`${this.minutes} minute${this.minutes>1?"s":""} `),this.seconds>0&&(""===g&&(g="Last "),g+=`${this.seconds} second${this.seconds>1?"s":""} `),this.dateRangeSelectLabel=g;break;case"timePeriod":this.interval={to:new Date(`${this.dateTo} ${this.timeTo}`),from:new Date(`${this.dateFrom} ${this.timeFrom}`)},this.dateRangeSelectLabel=`from ${this.dateFrom} ${this.timeFrom} to ${this.dateTo} ${this.timeTo}`;break;case"interval":const f=e=>{e=e||new Date;let t=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds();return t};t=new Date;let b=f(),y=new Date(t.getTime()-60*t.getMinutes()*1e3-1e3*t.getSeconds()),v=new Date(y.getTime()+36e5),w=new Date(t.getTime()-1e3*b),T=new Date(w.getTime()+864e5),k=new Date(w.getTime()-864e5),C=new Date(k.getTime()-864e5),S=(new Date).getDay(),q=new Date(w.getTime()-24*S*60*60*1e3),R=new Date(q.getTime()+6048e5),x=new Date(q.getTime()-6048e5),D=new Date(q.getTime()+864e5),F=new Date(D.getTime()+6048e5),L=new Date(x.getTime()+864e5),M=new Date(w.getTime()-24*((new Date).getDate()-1)*60*60*1e3),Q=new Date(M.getTime()-1e4),A=new Date(M.getTime()-24*Q.getDate()*60*60*1e3),E=(Q.getDate(),new Date((new Date).getFullYear(),0,0)),P=f(E);E=new Date(E.getTime()-1e3*P+864e5);let O=new Date(t.getFullYear()-1,0,0);P=f(O),O=new Date(O.getTime()-1e3*P+864e5);let U=new Date(t.getFullYear()+1,0,0);P=f(U),U=new Date(U.getTime()-1e3*P+864e5);let I=new Date(t.getFullYear(),t.getMonth()+1,0),N=f(I);switch(I=new Date(I.getTime()-1e3*N+864e5),console.log(q),console.log(C),console.log(x),console.log(D),console.log(M),console.log(Q),console.log(A),console.log(E),console.log(O),console.log({beginningOfHour:y,endofHour:v,beginningOfToday:w,endOfToday:T,beginningOfNextMonth:I,beginningOfNextYear:U}),this.intervalType){case"Yesterday":this.interval={to:w,from:k};break;case"Day before yesterday":this.interval={to:k,from:k};break;case"This day last week":let e=new Date(w.getTime()-6048e5),t=new Date(e.getTime()+864e5);this.interval={to:t,from:e};break;case"Previous week (Sun - Sat)":this.interval={to:q,from:x};break;case"Previous week (Mon - Sun)":this.interval={to:D,from:L};break;case"Previous month":this.interval={to:M,from:A};break;case"Previous year":this.interval={to:E,from:O};break;case"Current hour":this.interval={to:v,from:y};break;case"Current day":this.interval={to:T,from:w};break;case"Current day so far":this.interval={to:"now",from:w};break;case"Current week (Sun - Sat)":this.interval={to:R,from:q};break;case"Current week (Mon - Sun)":this.interval={to:F,from:D};break;case"Current week so far (Sun - Sat)":this.interval={to:"now",from:q};break;case"Current week so far (Mon - Sun)":this.interval={to:"now",from:D};break;case"Current month":this.interval={to:I,from:M};break;case"Current month so far":this.interval={to:"now",from:M};break;case"Current year":this.interval={to:U,from:M};break;case"Current year so far":this.interval={to:"now",from:E};break}this.dateRangeSelectLabel=`${this.intervalType}`;let Y=this.interval.from,B=this.interval.to;"now"===B&&(B=new Date),t=B,this.dateTo=`${t.getFullYear()}/${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}/${t.getDate()<10?"0"+t.getDate():t.getDate()}`,this.timeTo=`${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}`,t=Y,this.dateFrom=`${t.getFullYear()}/${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}/${t.getDate()<10?"0"+t.getDate():t.getDate()}`,this.timeFrom=`${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}`;break}},cancel(){this.$refs.menu0.toggle(),this.immediateMain.dateTimeRanges[this.id]=this.settingsOriginal},update(){this.convertToOtherTypes(!1),this.immediateMain.dateTimeRanges[this.id]||(this.immediateMain.dateTimeRanges[this.id]={});let e=["dateRangeSelectType","dateRangeSelectTypeLast","interval"];e.map((e=>this.immediateMain.dateTimeRanges[this.id][e]=this[e])),this.$refs.menu0.toggle(),this.immediateMain.dateTimeRanges[this.id].interval=this.interval,this.immediateMain.runSelected()},dateRangeSelectTypeChanged(e,t){this.convertToOtherTypes()}},computed:{},watch:{dateRangeSelectType(){let e=this.dateRangeSelectType;this.dateRangeSelectType=this.oldDateRangeSelectType,this.convertToOtherTypes(),this.dateRangeSelectType=e,this.oldDateRangeSelectType=e},advancedForLastFilter(){if(!1===this.advancedForLastFilter){let e=this.dateRangeSelectType;this.convertToOtherTypes("lastAdvanced"),this.dateRangeSelectType=e,this.oldDateRangeSelectType=e}else{let e=this.dateRangeSelectType;this.convertToOtherTypes("last"),this.dateRangeSelectType=e,this.oldDateRangeSelectType=e}}}}),o=i,r=a("2877"),l=a("9c40"),c=a("4e73"),d=a("f09f"),u=a("a370"),m=a("3786"),p=a("ddd8"),h=a("27f9"),g=a("1c1c"),f=a("4074"),b=a("0170"),y=a("9564"),v=a("0016"),w=a("7cbe"),T=a("52ee"),k=a("ca78"),C=a("4b7e"),S=a("7f67"),q=a("eebe"),R=a.n(q),x=Object(r["a"])(o,s,n,!1,null,null,null);t["a"]=x.exports;R()(x,"components",{QBtn:l["a"],QMenu:c["a"],QCard:d["a"],QCardSection:u["a"],QRadio:m["a"],QSelect:p["a"],QInput:h["a"],QList:g["a"],QItemSection:f["a"],QItemLabel:b["a"],QToggle:y["a"],QIcon:v["a"],QPopupProxy:w["a"],QDate:T["a"],QTime:k["a"],QCardActions:C["a"]}),R()(x,"directives",{ClosePopup:S["a"]})},"6e23":function(e,t,a){var s={"./inspirafarms/csysteminfo.png":"e381"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="6e23"},"853b":function(e,t,a){},"86d9":function(e){e.exports=JSON.parse('[{"name":"ColdRooms","icon":"ac_unit","link":"/#/coldrooms","description":"Customer Cold Rooms"}]')},"9fea":function(e,t){function a(){return"\n## Terms and Conditions\n\n...\n    "}e.exports=a},b58d:function(e){e.exports=JSON.parse('{"PROJECT":{"NAME":{"EN":"InspiraFarms","SWA":"InspiraFarms"}},"FIELDS":{"EMAIL":{"EN":"email","SWA":"anwani"}}}')},e381:function(e,t){e.exports="data:image/png;base64,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"},e549:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("coldroomsList",{attrs:{main:e.main,immediateMain:e.immediateMain}})],1)},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("q-table",{staticClass:"col",attrs:{title:"Coldrooms",dense:"",data:e.allColdrooms,columns:e.columns,filter:e.filter},on:{"row-click":e.selectcoldroom},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",outlined:"",dense:"",debounce:"300",placeholder:"Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[a("q-icon",{attrs:{slot:"append",name:"search"},slot:"append"})],1),a("q-btn",{attrs:{flat:""}},[a("q-icon",{attrs:{color:"primary",name:"refresh",side:""},on:{click:function(t){return e.fetchColdRooms()}}})],1)]},proxy:!0}])})],1)},o=[],r=(a("ddb0"),a("6558"));const l=a("1712").to,c=a("20e6"),d=a("c2a1").default;var u={name:"coldroomsList",props:["main","immediateMain"],components:{dateTimeRange:r["a"]},async created(){d.setSettings({TBURL:c["TB_URL"]}),d.setVue(this),this.fetchColdRooms()},data(){return{id:1,myImmediateMain:this,columns:[{name:"id",label:"#",field:"id",sortable:!0,align:"right"},{name:"coldroom",label:"Coldroom",field:"coldroom",sortable:!0,align:"left"}],allColdrooms:[],selectedRow:{},filter:""}},methods:{async fetchColdRooms(){this.main.loadingSomething=!0;let[e,t]=await l(d.getColdrooms());console.log(t),this.main.loadingSomething=!1;d.currentToken();e||(this.allColdrooms=t)},selectcoldroom(e,t){console.log(t);let a=t.id;this.$router.push({path:`/coldroomsmonitor/${a}`})}},computed:{selectedRows(){let e=this.selected.filter((e=>e.active));return e.length>0}},watch:{selectedRow:{handler(e){JSON.stringify(this.selectedRow)!==JSON.stringify(this.main.selectedRow)?this.main.editted=!0:this.main.editted=!1},deep:!0}}},m=u,p=a("2877"),h=a("9989"),g=a("eaac"),f=a("27f9"),b=a("0016"),y=a("9c40"),v=a("eebe"),w=a.n(v),T=Object(p["a"])(m,i,o,!1,null,null,null),k=T.exports;w()(T,"components",{QPage:h["a"],QTable:g["a"],QInput:f["a"],QIcon:b["a"],QBtn:y["a"]});a("20e6"),a("c2a1").default;var C={name:"coldrooms",props:["main"],components:{coldroomsList:k},async created(){},data(){return{immediateMain:this}},methods:{},computed:{},watch:{}},S=C,q=Object(p["a"])(S,s,n,!1,null,null,null);t["a"]=q.exports;w()(q,"components",{QPage:h["a"]})},ea76:function(e,t,a){"use strict";a.r(t);var s=a("9523"),n=a.n(s);a("5319");a("20e6").PROJECT.toLowerCase();class i{constructor(){n()(this,"translate",(e=>{let t=e.split("."),s=a("3ca2"),n=a("5bfc")(`./${this.projectName}/translations.json`),i="";try{if(!n[t[0]])throw"error";i=n[t[0]][t[1]]}catch(o){s[t[0]]&&(i=s[t[0]][t[1]])}if("object"===typeof i){let e=this.getShortLang();i=i[e]}return i})),this.init()}init(){this.projectName=a("20e6").PROJECT.toLowerCase(),this.defaultLang=(a("20e6").lang||"").toUpperCase()}getLangshort(e){}getLang(e){e=e||window.localStorage.getItem(this.langField)||this.defaultLang||"EN";let t=this.listLangs();function a(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}for(let s in t){let n=a(`(${e})`),i=t[s].match(n);if(i){e=t[s];break}}return e}getShortLang(e){e=e||window.localStorage.getItem(this.langField)||this.defaultLang||"EN";let t=this.listLangs();for(let a in t)if(t[a]===e){let t=e.match(/\([^\)]+/);e=t[0].replace(/\(/,"");break}return e}listLangs(){let e=a("1326"),t=[];for(let a in e)t.push(`${a} (${e[a]})`);return t}setLang(e){e=this.getShortLang(e),window.localStorage.setItem(this.langField,e)}}const o=new i;t["default"]=o}}]);